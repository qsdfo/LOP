<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>LOP database</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">

    <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
    </script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Home page</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="database.html">Database</a>
                    </li>
                    <li>
                        <a href="models.html">Models</a>
                    </li>
                    <li>
                        <a href="results.html">Results</a>
                    </li>
                    <li>
                        <a href="code.html">Code</a>
                    </li>
                    <li>
                        <a href="publications.html">Publications</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container-fluid">
        <div class="col-lg-2">
            <div id="mySidenav" class="sidenav">
                <a href="#Files">Files</a>
                <a href="#Description">Description</a>
                <a href="#Data_representation">Data representation</a>
                <a href="#Time_alignment">Time alignment</a>
            </div>
        </div>
        <div class="col-lg-10">
            <hr>
            <div class="row">
                <h1>Database</h1>
            </div>

            <a name="Files"></a>
            <hr>
            <div class="row">
                <h2>Files</h2>
                <ul style="list-style-type:disc">
                  <li>Midi files : <a href="database/LOP_database_06_09_17.zip">LOP_database.zip</a></li>
                  <li>Useful code for processing the midi scores and performing automatic alignment : <a href="https://github.com/qsdfo/LOP_database">LOP_database github repository</a></li>
                </ul>
            </div>

            <a name="Description"></a>
            <hr>
            <div class="row">
                <h2>Description</h2>
                <div class="col-lg-4" align="justify">
                    <p>
                        This database is a <strong><i>MIDI</i> collection</strong> of <strong>223 pairs of piano scores and corresponding orchestrations</strong> performed by famous composers.
                        The figure of the right-hand side represents the hierarchy of the database and general statistics are given in the table.
                    </p>
                    <p>
                        The dataset is split between train, validation and test sets of files that represent approximately 80%, 10% and 10% of the full set.
                        The split we used is written in text files with transparent names.
                        For instance, the files from the <i>liszt_classical_archives</i> used for the training step
                        are listed in the <i>liszt_classical_archives_train.txt</i> file.
                    </p>
                    <p>
                        <strong>Warning : </strong>
                        We suggest not to use the IMSLP database which contains a lot of non-matching pairs.
                        Cleaning will be done as soon as possible.
                    </p>

                </div>
                <div class="col-lg-1">
                </div>
                <div class="col-lg-5">
                    <table class="table table-bordered table-hover table-condensed">
                        <tbody><tr>
                        <td>instrument_name</td>
                        <td>n_track_present</td>
                        <td>n_note_played</td>
                        </tr>
                        <tr>
                        <td>tuba bass</td>
                        <td>3</td>
                        <td>178</td>
                        </tr>
                        <tr>
                        <td>piccolo</td>
                        <td>31</td>
                        <td>6717</td>
                        </tr>
                        <tr>
                        <td>celesta</td>
                        <td>2</td>
                        <td>1108</td>
                        </tr>
                        <tr>
                        <td>violin and viola and violoncello and double bass</td>
                        <td>14</td>
                        <td>9731</td>
                        </tr>
                        <tr>
                        <td>trombone and tuba bass</td>
                        <td>1</td>
                        <td>46</td>
                        </tr>
                        <tr>
                        <td>english horn</td>
                        <td>13</td>
                        <td>6677</td>
                        </tr>
                        <tr>
                        <td>trombone</td>
                        <td>96</td>
                        <td>25025</td>
                        </tr>
                        <tr>
                        <td>violin</td>
                        <td>282</td>
                        <td>336580</td>
                        </tr>
                        <tr>
                        <td>clarinet</td>
                        <td>123</td>
                        <td>159430</td>
                        </tr>
                        <tr>
                        <td>trumpet</td>
                        <td>111</td>
                        <td>66584</td>
                        </tr>
                        <tr>
                        <td>harp</td>
                        <td>27</td>
                        <td>21781</td>
                        </tr>
                        <tr>
                        <td>double bass and violoncello</td>
                        <td>1</td>
                        <td>1275</td>
                        </tr>
                        <tr>
                        <td>bassoon</td>
                        <td>58</td>
                        <td>109289</td>
                        </tr>
                        <tr>
                        <td>timpani</td>
                        <td>77</td>
                        <td>31480</td>
                        </tr>
                        <tr>
                        <td>tuba</td>
                        <td>42</td>
                        <td>6769</td>
                        </tr>
                        <tr>
                        <td>percussion</td>
                        <td>57</td>
                        <td>8639</td>
                        </tr>
                        <tr>
                        <td>violoncello</td>
                        <td>135</td>
                        <td>133640</td>
                        </tr>
                        <tr>
                        <td>bassoon bass</td>
                        <td>73</td>
                        <td>60044</td>
                        </tr>
                        <tr>
                        <td>viola</td>
                        <td>122</td>
                        <td>111504</td>
                        </tr>
                        <tr>
                        <td>piano and violin and violoncello</td>
                        <td>1</td>
                        <td>755</td>
                        </tr>
                        <tr>
                        <td>piano</td>
                        <td>3</td>
                        <td>4485</td>
                        </tr>
                        <tr>
                        <td>cornet</td>
                        <td>19</td>
                        <td>3739</td>
                        </tr>
                        <tr>
                        <td>trombone and tuba</td>
                        <td>4</td>
                        <td>2366</td>
                        </tr>
                        <tr>
                        <td>oboe</td>
                        <td>119</td>
                        <td>140364</td>
                        </tr>
                        <tr>
                        <td>flute</td>
                        <td>122</td>
                        <td>117829</td>
                        </tr>
                        <tr>
                        <td>english horn and oboe</td>
                        <td>1</td>
                        <td>762</td>
                        </tr>
                        <tr>
                        <td>horn</td>
                        <td>190</td>
                        <td>181714</td>
                        </tr>
                        <tr>
                        <td>flute and piccolo</td>
                        <td>1</td>
                        <td>1575</td>
                        </tr>
                        <tr>
                        <td>organ</td>
                        <td>3</td>
                        <td>1646</td>
                        </tr>
                        <tr>
                        <td>clarinet bass</td>
                        <td>4</td>
                        <td>202</td>
                        </tr>
                        <tr>
                        <td>double bass</td>
                        <td>119</td>
                        <td>94205</td>
                        </tr>
                        <tr>
                        <td>saxophone</td>
                        <td>1</td>
                        <td>556</td>
                        </tr>
                        <tr>
                        <td>voice</td>
                        <td>35</td>
                        <td>33597</td>
                        </tr>
                        </tbody></table>
                </div>
            </div>

            <a name="Data_representation"></a>
            <hr>
            <div class="row">
                <h2>Data representation in LOP</h2>
                <div class="col-lg-4">
                    <p align="jusitfy">
                        We used a simple <i>piano-roll</i> representation to process the orchestral and piano scores in LOP.
                        A <i>piano-roll</i> \(pr\) is a matrix whose rows represent pitches and columns represent a time frame depending on the time quantization.
                        A pitch \(p\) at time \(t\) played with an intensity \(i\) is represented by \(pr(p,t) = i\), \(0\) being a note off.
                        This definition is extended to an orchestra by simply concatenating the <i>piano-rolls</i> of every instruments along the pitch dimension.
                    </p>
                </div>
                <div class="col-lg-1">
                </div>
                <div class="col-lg-5" align="middle">
                    <img src = "images/jpeg/data_representation.jpeg" width="80%" height="80%">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <p align="justify">
                        The rhythmic quantization is defined as the number of time frame in the <i>piano-roll</i> per quarter note.
                        It is clear that the rhythmic quantization chosen impact the predictive task we use to train the models.
                        For instance, as the quantization gets finer, an increasing number of successive frames are identical.
                        To alleviate this problem and get rid of the quantization dependency, we remove from the pianoroll repeated event.
                        More precisely, only the time event \(t_{e}\) such that
                        \(\text{Orch}(t_{e}) \neq \text{Orch}(t_{e} - 1)\)
                        are kept in the pianoroll.
                    </p>
                </div>
                <div class="col-lg-1">
                </div>
                <div class="col-lg-5">
                    <img align="bottom" src="images/jpeg/data_representation_2.jpeg" width="100%" height="100%">
                </div>
            </div>

            <a name="Time_alignment"></a>
            <hr>
            <div class="row">
                <h2>Time alignment</h2>
                <div class="col-lg-4" align="justify">
                    <p>
                        Given the diverse origins of the <i>MIDI</i> files,
                        it is very rare that a piano score and its proposed orchestration are aligned.
                        Indeed, one file can be shorter than the other one, because of temporal dilatation factors or skipped parts.
                    </p>
                    <p>
                        Those misalignments are very problematic for the projective orchestration task,
                        and in general for any processing which intends to take advantage of the joint information provided between the piano and orchestra scores.
                        Hence, we use the Needleman-Wunsch algorithm to automatically align two scores.
                        To that end, we defined a distance between two chords,
                        which essentially consists in counting the number of jointly activated pitch-classes.
                        This might look too simplistic, be proved to be sufficient.
                    </p>
                </div>
                <div class="col-lg-1">
                </div>
                <div class="col-lg-5">
                    Schéma
                </div>
            </div>
            <hr>

            <!-- Footer -->
            <footer>
                <div class="row">
                    <div class="col-lg-10">
                        <p>Copyright &copy; Léopold Crestel 2016</p>
                    </div>
                </div>
                <!-- /.row -->
            </footer>
        </div>
    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
